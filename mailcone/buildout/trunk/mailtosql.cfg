[buildout]
parts +=
    mailtosql_script
    mailtosql_config_deploy
    mailtosql_config_debug
    mailtosql_dir_attachments
    mailtosql_dir_logs

[mailtosql_script]
recipe = z3c.recipe.scripts
eggs = raptus.mailcone.mailtosql
entry-points =
  mailtosql=raptus.mailcone.mailtosql.main:main
arguments = config="${mailtosql_config_deploy:output}"


[mailtosql_config_deploy]
input = etc/mailtosql_debug.cfg.in
recipe = collective.recipe.template
output = ${buildout:parts-directory}/etc/mailtosql_debug.cfg


[mailtosql_config_debug]
input = etc/mailtosql_deploy.cfg.in
recipe = collective.recipe.template
output = ${buildout:parts-directory}/etc/mailtosql_deploy.cfg



[mailtosql_dir_attachments]
recipe = z3c.recipe.mkdir
paths = var/mailtosql/attachments

[mailtosql_dir_logs]
recipe = z3c.recipe.mkdir
paths = var/mailtosql/logs

