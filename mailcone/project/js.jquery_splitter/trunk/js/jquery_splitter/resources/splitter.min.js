(function(a){a.fn.splitter=function(b){b=b||{};return this.each(function(){function h(a,b){var c=0;for(var d=1;d<arguments.length;d++)c+=Math.max(parseInt(a.css(arguments[d]))||0,0);return c}function g(b){b=Math.max(m._min,k._DA-n._max,Math.min(b,m._max,k._DA-p._DA-n._min));p._DA=p[0][j.pxSplit];p.css(j.origin,b).css(j.fixed,k._DF);m.css(j.origin,0).css(j.split,b).css(j.fixed,k._DF);n.css(j.origin,b+p._DA).css(j.split,k._DA-p._DA-b).css(j.fixed,k._DF);if(!a.browser.msie)l.trigger("resize")}function f(b){p.removeClass(j.activeClass);var d=m._posSplit+b[j.eventPos];if(j.outline){c.remove();c=null;g(d)}l.css("-webkit-user-select","text");a(document).unbind("mousemove",e).unbind("mouseup",f)}function e(a){var b=m._posSplit+a[j.eventPos];if(j.outline){b=Math.max(0,Math.min(b,k._DA-p._DA));p.css(j.origin,b)}else g(b)}function d(b){if(j.outline)c=c||p.clone(false).insertAfter(m);l.css("-webkit-user-select","none");p.addClass(j.activeClass);m._posSplit=m[0][j.pxSplit]-b[j.eventPos];a(document).bind("mousemove",e).bind("mouseup",f)}var c;var i=(b.splitHorizontal?"h":b.splitVertical?"v":b.type)||"v";var j=a.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[i],b);var k=a(this).css({position:"relative"});var l=a(">*",k[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"});var m=a(l[0]);var n=a(l[1]);var o=a('<a href="javascript:void(0)"></a>').attr({accessKey:j.accessKey,tabIndex:j.tabIndex,title:j.splitbarClass}).bind(a.browser.opera?"click":"focus",function(){this.focus();p.addClass(j.activeClass)}).bind("keydown",function(a){var b=a.which||a.keyCode;var c=b==j["key"+j.side1]?1:b==j["key"+j.side2]?-1:0;if(c)g(m[0][j.pxSplit]+c*j.pxPerKey,false)}).bind("blur",function(){p.removeClass(j.activeClass)});var p=a(l[2]||"<div></div>").insertAfter(m).css("z-index","100").append(o).attr({"class":j.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",d);if(/^(auto|default|)$/.test(p.css("cursor")))p.css("cursor",j.cursor);p._DA=p[0][j.pxSplit];k._PBF=a.boxModel?h(k,"border"+j.side3+"Width","border"+j.side4+"Width"):0;k._PBA=a.boxModel?h(k,"border"+j.side1+"Width","border"+j.side2+"Width"):0;m._pane=j.side1;n._pane=j.side2;a.each([m,n],function(){this._min=j["min"+this._pane]||h(this,"min-"+j.split);this._max=j["max"+this._pane]||h(this,"max-"+j.split)||9999;this._init=j["size"+this._pane]===true?parseInt(a.curCSS(this[0],j.split)):j["size"+this._pane]});var q=m._init;if(!isNaN(n._init))q=k[0][j.pxSplit]-k._PBA-n._init-p._DA;if(j.cookie){if(!a.cookie)alert("jQuery.splitter(): jQuery cookie plugin required");var r=parseInt(a.cookie(j.cookie));if(!isNaN(r))q=r;a(window).bind("unload",function(){var b=String(p.css(j.origin));a.cookie(j.cookie,b,{expires:j.cookieExpires||365,path:j.cookiePath||document.location.pathname})})}if(isNaN(q))q=Math.round((k[0][j.pxSplit]-k._PBA-p._DA)/2);if(j.anchorToWindow){k._hadjust=h(k,"borderTopWidth","borderBottomWidth","marginBottom");k._hmin=Math.max(h(k,"minHeight"),20);a(window).bind("resize",function(){var b=k.offset().top;var c=a(window).height();k.css("height",Math.max(c-b-k._hadjust,k._hmin)+"px");if(!a.browser.msie)k.trigger("resize")}).trigger("resize")}else if(j.resizeToWidth&&!a.browser.msie)a(window).bind("resize",function(){k.trigger("resize")});k.bind("resize",function(a,b){if(a.target!=this)return;k._DF=k[0][j.pxFixed]-k._PBF;k._DA=k[0][j.pxSplit]-k._PBA;if(k._DF<=0||k._DA<=0)return;g(!isNaN(b)?b:!(j.sizeRight||j.sizeBottom)?m[0][j.pxSplit]:k._DA-n[0][j.pxSplit]-p._DA)}).trigger("resize",[q])})}})(jQuery)